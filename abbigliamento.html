<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Preventivo Abbigliamento</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#009dff">
</head>
<body>

  <div class="header-right-group">
    <a href="index.html" class="logo-link">
      <img src="icon-192.png" alt="Logo Tessitore" class="logo-in-group">
    </a>
    <a href="index.html" class="home-button-in-group">Torna alla HOME</a>
  </div>
    
  <h1>Preventivo Abbigliamento</h1>

  <div class="form-section">
    <label>Codice interno:</label>
    <input type="number" id="codiceInterno" step="0.01"/>

    <label>Quantità:</label>
    <input type="number" id="quantita" min="1" value="1"/>

    <label>Sconto:</label>
    <select id="sconto">
      <option value="0">Nessuno</option>
      <option value="5">5%</option>
      <option value="10">10%</option>
      <option value="15">15%</option>
      <option value="20">20%</option>
    </select>

    <label>Nota (Titolo PDF):</label>
    <input type="text" id="nota" placeholder="Inserisci una nota (facoltativa)"/>
  </div>
  
  <div class="form-section">
    <label for="ricercaProdotto">Ricerca Codice Prodotto:</label>
    <input type="text" id="ricercaProdotto" list="codiciProdottiList" placeholder="Inizia a digitare il codice..." />
    <datalist id="codiciProdottiList"></datalist>
  </div>

  <h2>Personalizzazioni</h2>

  <div class="custom-section">
    <h3>Ricami</h3>
    <div class="button-group" id="ricami">
      <button data-key="K6">Ricamo lato cuore</button>
      <button data-key="K7">Ricamo lato opposto</button>
      <button data-key="K1">Ricamo Centro Petto</button>
      <button data-key="K8">Ricamo manica SX</button>
      <button data-key="K9">Ricamo manica DX</button>
      <button data-key="K10">Ricamo sottocollo</button>
      <button data-key="K11">Ricamo spalle</button>
      <button data-key="M6">Nome ricamato</button>
      <button data-key="K4">Ricamo Coscia SX</button>
      <button data-key="K5">Ricamo Coscia DX</button>
    </div>
  </div>

  <div class="custom-section">
    <h3>Stampe</h3>
    <div class="button-group" id="stampe">
      <button data-key="K14">Stampa fronte A4</button>
      <button data-key="M14">Stampa fronte A3</button>
      <button data-key="K15">Stampa lato cuore</button>
      <button data-key="K21">Stampa Centro Petto</button>
      <button data-key="K16">Stampa manica SX</button>
      <button data-key="K17">Stampa manica DX</button>
      <button data-key="K18">Stampa sottocollo</button>
      <button data-key="K19">Stampa spalle A4</button>
      <button data-key="M19">Stampa spalle A3</button>
      <button data-key="M15">Stampa nome</button>
      <button data-key="K22">Stampa Coscia SX</button>
      <button data-key="K23">Stampa Coscia DX</button>
    </div>
  </div>

  <div id="uploadContainer"></div>

  <h2>Prezzi unitari</h2>
  <p>i prezzi 5pz e 12pz sono inclusi di IVA, in tutti gli altri prezzi il prezzo è NETTO quindi +IVA22%</p>
  <div class="table-container">
    <table>
      <thead>
        <tr id="quantitaRow">
          <th>Quantità</th>
          <th>5</th><th>12</th><th>20</th><th>25</th><th>30</th>
          <th>50</th><th>75</th><th>100</th>
        </tr>
      </thead>
      <tbody>
        <tr id="prezzoBaseRow"><td>Prezzo base</td></tr>
        <tr id="prezzoScontatoRow"><td>Prezzo scontato</td></tr>
      </tbody>
    </table>
  </div>

  <button id="generaPdf">Genera PDF</button>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="pdf-export.js"></script>
  <script src="autocomplete.js"></script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log("Service Worker registrato!"))
        .catch(e => console.error("Errore SW:", e));
    }
  </script>
</body>
</html>
